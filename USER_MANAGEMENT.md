# Управление пользователями

## Создание пользователей

Регистрация через веб-интерфейс отключена. Новых пользователей может создавать только администратор через командную строку.

### Способ 1: Через Python скрипт

```bash
# Активируем виртуальную среду
source venv/bin/activate

# Создаем пользователя с паролем в командной строке
python create_user.py admin mypassword123

# Создаем пользователя с интерактивным вводом пароля
python create_user.py john
# Система запросит пароль
```

### Способ 2: Через Bash скрипт (рекомендуется)

```bash
# Создаем пользователя с паролем в командной строке
./create_user.sh admin mypassword123

# Создаем пользователя с интерактивным вводом пароля
./create_user.sh john
# Система запросит пароль
```

## Примеры использования

### Создание администратора
```bash
./create_user.sh admin secure_password_123
```

### Создание обычного пользователя
```bash
./create_user.sh manager
# Введите пароль: my_secure_password
```

## Требования к учетным данным

- **Имя пользователя**: минимум 3 символа
- **Пароль**: минимум 6 символов
- **Уникальность**: имя пользователя должно быть уникальным

## Безопасность

- Пароли хешируются с помощью bcrypt
- Старые refresh токены автоматически удаляются при создании новых
- Доступ к созданию пользователей только через командную строку

## Устранение неполадок

### Ошибка "Пользователь уже существует"
```bash
❌ Ошибка: Пользователь 'admin' уже существует!
```
**Решение**: Выберите другое имя пользователя.

### Ошибка "Пароль слишком короткий"
```bash
❌ Пароль должен содержать минимум 6 символов!
```
**Решение**: Используйте пароль длиннее 6 символов.

### Ошибка подключения к базе данных
```bash
❌ Ошибка при создании пользователя: ...
```
**Решение**: Убедитесь, что сервер базы данных запущен и доступен.
